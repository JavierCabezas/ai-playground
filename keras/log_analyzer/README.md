# Log Analysis Project

This project generates and analyzes server logs to identify atypical patterns, including anomalies that may not be critical but are worth investigating.

## Features

### Log Generator
- Simulates server logs based on realistic patterns.
- Injects configurable anomalies, such as CPU spikes, memory drops, or disk over-usage.
- Fully customizable via `config.json`.

### Log Analyzer
- Reads generated logs and identifies atypical patterns.
- Uses statistical and machine learning techniques for anomaly detection.

### Dashboard (Coming Soon)
- Interactive visualization of logs, trends, and flagged anomalies using Streamlit or Dash.

## Project Structure

```
analysis_project/
├── generator/          # Log generation scripts and configuration
│   ├── generator.py
│   ├── config.json
├── analyzer/           # Log analysis scripts and models
│   ├── analyzer.py
│   ├── model.py
│   ├── utils.py
├── docker/                 # Dockerfiles and Compose configuration
│   ├── generator.Dockerfile
│   ├── analyzer.Dockerfile
│   ├── docker-compose.yml
├── logs/                   # Shared directory for logs
│   ├── server_logs.txt
├── README.md               # Project documentation
```

## Prerequisites

- [Docker](https://www.docker.com/) and [Docker Compose](https://docs.docker.com/compose/) installed on your system.
- Basic understanding of Docker and Python.

---

## Log Generator

The log generator simulates server logs with configurable patterns and anomalies.

### Configuration

Modify the `config.json` file in the `generator` folder to adjust:
- `frequency_seconds`: Interval (in seconds) between log entries.
- `server_name`: Name of the server generating logs.
- `components`: Components to log (e.g., CPU, Memory, Disk).
- `value_range`: Range of values for each component.
- `patterns`: Defines time-based behavior for components (e.g., peak and off hours).
- `anomalies`: Configures anomaly types, value ranges, and injection probability.

### Example Log Entry

```json
{
    "timestamp": "2025-01-05T14:22:31.123456",
    "server": "server_1",
    "component": "CPU",
    "value": 95.3,
    "anomalous": true
}
```

---

### Running the Log Generator

#### **Option 1: Using `docker-compose` (Recommended)**

1. **Navigate to the `docker` folder**:
   ```bash
   cd analysis_project/docker
   ```

2. **Start the log generator using `docker-compose`**:
   ```bash
   docker-compose up generator
   ```

   - Logs are stored in the `logs/server_logs.txt` file.

3. **Stop the generator**:
   Press `Ctrl+C`, then run:
   ```bash
   docker-compose down
   ```

#### **Option 2: Manual Docker Build and Run (Advanced)**

1. **Navigate to the `generator` folder**:
   ```bash
   cd analysis_project/generator
   ```

2. **Build the Docker image**:
   ```bash
   docker build -t generator -f ../docker/generator.Dockerfile .
   ```

3. **Run the container**:
   ```bash
   docker run --rm -v $(pwd)/../logs:/app/logs generator
   ```

---

## Log Analyzer

The log analyzer (in progress) will:
- Read logs generated by the log generator.
- Detect atypical patterns using statistical and machine learning methods.

### Planned Features
- **Statistical Anomaly Detection**: Identify basic outliers using methods like Z-scores.
- **Machine Learning Models**: Incorporate LSTMs or Autoencoders for advanced anomaly detection.

---

## Dashboard

An interactive dashboard (in progress) will allow users to:
- Visualize trends and patterns.
- Highlight flagged anomalies with detailed explanations.

---

## Running the Full System

1. **Navigate to the `docker` folder**:
   ```bash
   cd analysis_project/docker
   ```

2. **Start all services**:
   ```bash
   docker-compose up
   ```

3. **Stop all services**:
   ```bash
   docker-compose down
   ```

---

## Future Improvements

- Add multi-server support.
- Implement advanced ML models for anomaly detection.
- Enable log compression for efficient storage.

---

## License

This project is for educational purposes and is not intended for production use.
